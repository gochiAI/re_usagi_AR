<!DOCTYPE html>
<html>
<link rel="stylesheet" href="./main.css">

<head>
    <title>Home</title>
</head>

<body>
    <div id="help">
        <button type="button" id="button_help_close"
            onclick="document.getElementById('help').classList.remove('show');">
            <img src="./core_sys/img/ui/close_btn.svg" alt="Close_HelpTab" />
        </button>
        <div id="help_content">
            <div class="accordion">
                <div class="accordion-item">
                    <div class="accordion-header">このserviceはなんですか?</div>
                    <div class="accordion-content">
                        どこでもキャラクターと一緒に写真を撮ることができるサービスです。
                    </div>
                </div>
                <div class="accordion-item">
                    <div class="accordion-header">使い方がよくわかりません</div>
                    <div class="accordion-content">
                        次のボタンを押してガイドを受けてください。
                    </div>
                </div>
                <div class="accordion-item">
                    <div class="accordion-header">動きません。</div>
                    <div class="accordion-content">
                        端末やブラウザについての情報を教えてください。
                        以下のフォームにお問い合わせを。
                        またこのserviceはスマートフォンでの利用を推奨しています。
                    </div>
                </div>
                <div class="accordion-item">
                    <div class="accordion-header">あなたは誰？</div>
                    <div class="accordion-content">
                        私はただのファンです。
                        各種SNSはこちら
                        <a href="https://twitter.com/gochi_AI">
                            <img src="./core_sys/img/ui/twitter.svg" alt="Icon: twitter" />
                        </a>
                        <a href="https://github.com/gochiAI">
                            <img src="./core_sys/img/ui/github.svg" alt="Icon: github">
                        </a>
                    </div>
                </div>
                <div class="accordion-item">
                    <div class="accordion-header">このserviceの詳細</div>
                    <div class="accordion-content">
                        利用料金: 無料
                        推奨端末: スマートフォン
                        利用想定ブラウザ: Chrome, Safari
                        バージョン: 3.0.0
                    </div>
                </div>
            </div>
        </div>
    </div>
    <header>
        <img src="./usagi_AR.svg" id="service_logo" /><button type="button" id="button_help"
            onclick="document.getElementById('help').classList.add('show');">
            <img src="./core_sys/img/ui/help.svg" alt="Open_HelpTab" />
        </button>
    </header>

    <div id="main">
    </div>
    <div id="edit_tab">
        <div id="tab_sprite"><button id="button_add" onclick="add_sprite()">
                <img src="./core_sys/img/ui/user_add.svg" alt="user_add" />
            </button></div>
    </div>
    <footer>
        <button type="button" id="button_edit"><img src="./core_sys/img/ui/user_edit.svg" /></button>
        <button type="button" id="button_camera">
            <img src="./core_sys/img/ui/camera_shutter.svg" />
        </button>
        <button type="button" id="button_flip"><img src="./core_sys/img/ui/camera_flip.svg" /></button>

    </footer>
</body>
<script type="module" src="./app.js"></script>
<script>

    document.getElementById('button_edit').addEventListener('click', function () {
        var editTab = document.getElementById('edit_tab');
        if (editTab.classList.contains('show')) {
            editTab.classList.remove('show');
        } else {
            editTab.classList.add('show');
        }
    });
    function createButtonWithImage(imagePath, sprite_name) {
        return `
        <button onclick="editSprite(this,'${sprite_name}')">
            <img id="spriteImage" src="${imagePath}" alt="sprite" />
        </button>
    `;
    }
    function editSprite(button, sprite_name) {
        if (button.classList.contains("selected")) {
            button.classList.remove("selected");
            console.log("Unselected Sprite:", sprite_name);
        } else {
            document.querySelectorAll("#tab_sprite button").forEach((btn) => {
                btn.classList.remove("selected");
            });
            button.classList.add("selected");
            console.log("Selected Sprite:", sprite_name);
        }
    }
    var sprite_list = [
        {
            path: "https://raw.githubusercontent.com/gochiAI/usagi_AR/main/aws.gochiusa.com/img/ekimemo/chino_angry_thumb.png",
            name: "chino_angry",
        },
        { path: "", name: "" },
    ];
    sprite_list.forEach((sprite) => {
        document.getElementById("tab_sprite").innerHTML += createButtonWithImage(
            sprite.path,
            sprite.name
        );
    });
</script>

</html>